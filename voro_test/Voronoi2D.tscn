[gd_scene load_steps=3 format=2]

[ext_resource path="res://icon.png" type="Texture" id=1]

[sub_resource type="GDScript" id=1]

script/source = "extends Polygon2D

func _ready():
	var voro = Voronoi.new()
	voro.voronoi2d(25)
	var vertexes = voro.get_vertexes()
	
	for face in voro.get_faces():
		var poly = Polygon2D.new()
		var edges = PoolVector2Array()
		for vertex in face:
			edges.append(vertexes[vertex])
		poly.polygon = edges
		var c = rand_range(0.2, 0.7)
		poly.color = Color(c, c, c, rand_range(0.5, 0.9))
		add_child(poly)"

[node name="Voronoi2D" type="Node2D"]
scale = Vector2( 3, 3 )

[node name="Sprite" type="Sprite" parent="."]
position = Vector2( 32, 32 )
texture = ExtResource( 1 )

[node name="VoronoiPolygons" type="Polygon2D" parent="."]
scale = Vector2( 64, 64 )
polygon = PoolVector2Array( 0, 0, 1, 0, 1, 1, 0, 1 )
color = Color( 1, 1, 1, 0 )
script = SubResource( 1 )

